.. sectionauthor:: Артём Светлов <artem.svetlov@nextgis.ru>

.. _ngw_webmaps_client:

Веб-клиент для просмотра карт
=============================

В составе ПО NextGIS Web предусмотрено специальное клиентское веб приложение для 
просмотра веб-карт (см :numref:`webmap_client`).
 

.. figure:: _static/webmap_client.png
   :name: webmap_client
   :align: center
   :width: 16cm
   
   Внешний вид веб-клиента.

   Цифрами обозначено: 1 – выпадающее меню выделенного слоя; 2 – дерево слоев; 
   3 – выпадающий список выбора подложек; 5 – инструменты карты; 6 – строка поиска; 
   7 – строка статуса.

Веб-клиент включает в себя два основных компонента: дерево слоев (2) и карту (4). 
При выборе слоя в дереве слоев можно вызвать меню слоя (1), в котором имеются 
следующие пункты:
    
* просмотр таблицы атрибутов
* просмотр описания слоя 

Для смены картографических подложек служит выпадающий список (3). По умолчанию 
имеются следующие подложки:

* Пустая
* OpenStreetMap
* Google – спутник
* Google – схема
* Google – гибрид 
* Google – рельеф

Подложка - это изображение карты, которое предоставляется другими, независимыми 
сервисами в сети Интернет. На их содержание пользователь влиять не может. 
Пользователь может выключить подложку, и тогда вместо нее будет показываться 
белый фон. Если предполагается, что у пользователя слабый канал доступа в 
интернет, или же Веб-ГИС развернута в локальной сети организации, из которой нет 
доступа в интернет, то можно работать и без подложки, разместив базовые данные в 
слоях Веб-ГИС. 

.. note:: 
   Если предполагается работа в сети без доступа к Интернету, то в 
   файле `настроек подложек </nextgisweb/nextgisweb/webmap/basemaps.json>`_ нужно 
   удалить записи про подложки Google.

.. _ngw_webmaps_client_tools:

Для работы с картой предусмотрены инструменты (5) – перечислены слева направо:

* исходный охват карты
* ссылка
* перемещение карты
* приближение
* отдаление
* измерение длин
* измерение площадей
* идентификация

В окне поиска (6) по мере ввода строки будет производиться поиск по двум источникам:
1. Введенная строка ищется в атрибутивной информации добавленных на карту слоёв
2. Строка так же ищется в адресной базе OpenStreetMap. 

Результаты показываются по мере ввода, номера объектов для поиска по атрибутам и 
полные адреса. Найденные объекты содержащие строку показываются первыми, сразу за 
ними отображаются так же найденные адреса, включающие вводимую строку. При выборе 
результата поиска из списка карта осуществляет переход к нему.

Строка статуса (7) отображает координаты клика и текущий масштаб.

Если перейти к просмотру таблицы атрибутов, то при выделении в ней отдельной 
записи, можно перейти к просмотру соответствующей геометрии на карте. Для этого 
надо слева сверху нажать кнопку :guilabel:`просмотреть`. В окне просмотра 
атрибутов можно выполнять поиск по текущим атрибутом. По мере ввода, содержимое 
окна фильтруется и остаются только записи, которые подпадают под критерии поиска.

