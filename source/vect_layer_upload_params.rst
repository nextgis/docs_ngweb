.. sectionauthor:: Роман Гайнуллов <roman.gaynullov@nextgis.ru>


Дополнительные параметры загрузки векторного слоя из файла
==========================================================

При загрузке векторного слоя из файла доступны дополнительные настройки (:numref:`ngweb_vect_layer_upload_params`).


.. figure:: _static/vect_layer_upload_params.png
   :name: ngweb_vect_layer_upload_params
   :align: center
   :width: 20cm
   
   Дополнительные параметры загрузки векторного слоя


.. _general:

Общие настройки обработки возможных ошибок
------------------------------------------

**Исправлять ошибки**

Возможные значения:

* **Нет** - ошибки не исправляются;
* **Без потери данных** - исправляются ошибки без потери данных. Исправляемые ошибки:

  * Извлечение геометрий из Geometry Collection и мультигеометрий, если внутри содержится одна геометрия;
  * Закрытие колец полигонов;
* **С возможными потерями** - ошибки исправляются по-максимуму с возможной потерей данных. В этом режиме будут исправляться все ошибки из режима *Без потери данных*, а также:

  * При извлечении геометрий из Geometry Collection и мультигеометрий будет браться первая подходящая геометрия, остальные отбрасываются.


**Пропускать объекты с неустранимыми ошибками**

Если ошибки не удается исправить с помощью режима *Исправлять ошибки*, то при выборе этой функции объекты будут пропускаться.
Если функция не выбрана, то слой не загрузится и покажутся первые 10 ошибок, которые к этому привели.


.. _geometry_type:

Настройки определения типа геометрии
-------------------------------------

В NextGIS Web векторных слой должен иметь определённый тип геометрии.
Если в исходном файле содержатся разные типы геометрий, необходимо либо задать настройки для фильтрации, либо привести геометрии к определённому типу.


**Тип геометрии**

Возможные значения:

* Авто
* Точка
* Линия
* Полигон

Эта настройка задаёт класс геометрий. Например, к классу Точка (POINT) относятся геометрии типа POINT, MULTIPOINT, POINTZ, MULTIPOINTZ.

Если выбран класс геометрий, а в исходном слое содержатся геометрии других классов, это будет считаться ошибкой.
Если взвести галку **Загружать объекты только с выбранным типом геометрии**, тогда геометрии других классов будут пропускаться.

Тип геометрии можно уточнить настройками **Мульти-геометрия** и **Z-Координата**.

Возможные значения:

* Авто
* Да
* Нет


.. _fid:

Настройки определения ID объекта (FID)
-------------------------------------

**Источник FID**

Возможные значения:

* **Нумерация** - FID начинается с 1
* **Из поля** - FID берётся из поля *integer*, оно не загружается в состав атрибутов слоя. Имя поля задаётся в настройке **Поле для FID**. Например, если слой был экспортирован в файл из NextGIS Web, в нём по-умолчанию создаётся поле *ngw_id*, в которое записывается FID. Чтобы загрузить слой в NextGIS Web с тем же составом полей и значениями FID, нужно задать *FID source = FIELD* и *FID field = ngw_id*. 
* **Авто** - FID берётся из поля, если оно существует. Иначе начинается с 1.
